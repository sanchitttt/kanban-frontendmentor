import axios from 'axios';
import React, { createContext, useContext, useEffect, useState } from 'react'
import { useNavigate } from 'react-router-dom';
import ThemeContext from '../contexts/ThemeContext';
import AddNewTask from './AddNewTask';
import BoardName from './BoardName';
import EmptyBoard from './EmptyBoard';
import Logo from './Logo';
import ShowSidebar from './ShowSidebar';
import SideBarDesktop from './SideBarDesktop';
import routes from '../config/config';
import Columns from './Column';
import CreateTask from './CreateTask';
import { Modal } from '@mui/material';
import EditTask from './EditTask';
import ViewTask from './ViewTask';
import CreateBoard from './CreateBoard';
import EditBoard from './EditBoard';
import ScrollContainer from 'react-indiana-drag-scroll';
import DeleteBoard from './DeleteBoard';



export const BoardsContext = createContext();
export const ModalsContext = createContext();
export const SetBoardDataContext = createContext();

function Dashboard() {
    const [sidebarHidden, setSidebarHidden] = useState(true);
    const [unauthorizedUser, setUnauthorizedUser] = useState(false);
    const [activeBoard, setActiveBoard] = useState(0);
    const [boardsData, setBoardsData] = useState(null);
    const [addTaskModal, setAddTaskModal] = useState(false);
    const [editTaskModal, setEditTaskModal] = useState(false);
    const [createBoardModal, setCreateBoardModal] = useState(false);
    const [editBoardModal, setEditBoardModal] = useState(false);
    const [viewTaskModal, setViewTaskModal] = useState(false);
    const [existingBoardData, setExistingBoardData] = useState(null)
    const [deleteBoardModal, setDeleteBoardModal] = useState(false);
    const [internalServerError, setInternalServerError] = useState()

    const theme = useContext(ThemeContext);
    const navigate = useNavigate();

    useEffect(() => {
        const fetchDashboard = async () => {
            try {
                const response = await axios.get(routes.DASHBOARD_ROUTE, { withCredentials: true });
                setBoardsData(response.data);
                // console.log(response.data);
            }
            catch (err) {
                console.log(err);
                if (err.response) {
                    if (err.response.status === 401 || err.response.status === 404) {
                        setUnauthorizedUser(true);
                    }
                }
                else {
                    setInternalServerError(true);
                }
            }
        }
        fetchDashboard();
    }, []);

    const showSidebarHandler = () => {
        if (sidebarHidden) setSidebarHidden(false);
        else setSidebarHidden(true);
    }

    if (internalServerError) {
        return (
            <div style={{ display: 'flex', flexDirection: 'column' }} className={`w-[100vw] h-[100vh] flex-row flex items-center justify-center relative h-[100vh] ${theme.color === 'dark' ? 'bg-dark-darkBG' : 'bg-light-darkBG'}`}>
                <svg xmlns="http://www.w3.org/2000/svg" width="595.279" height="595.281" viewBox="0 0 595.279 595.281" xmlSpace="preserve">
                    <path fill="#635fc7" d="M355.885 99.083c2.039-3.307 6.48-6.697 11.385-8.746 1.693-.545 3.388-1.07 4.922-1.533 4.563-.918 8.976-.311 11.779 2.898-18.79.23-31.949 20.104-32.282 37.969a.611.611 0 0 0 .043.24c-.883.146-1.802.311-2.741.492 0-.012.004-.021.003-.033-.489-10.577 1.267-22.168 6.891-31.287zm-1.295 30.24c-.001.049-.014.096-.026.141.168-.025.337-.053.5-.076 8.872-1.35 20.769-3.068 29.682.211l.074-.137.063.193c.521.195 1.033.4 1.53.631.235.109.392.238.493.379.053.002.1.01.146.016l21.749-3.182.979-.186c-.002-.012-.01-.02-.012-.031-.981-6.729-2.045-13.922-5.354-19.973-3.854-7.043-10.084-11.191-17.566-13.66-19.406-3.031-31.944 18.896-32.258 35.674zm-12.133-20.09c-.066.186-.132.379-.196.58a32.072 32.072 0 0 1 2.685-4.467c-1.042 1.098-1.954 2.389-2.489 3.887zm3.61 21.394c-.429-9.271.705-21.529 6.01-30.275l-.405.469s-.301.119-.783.346c-8.21 8.209-10.253 19.48-10.32 31.348a.31.31 0 0 1-.054.164c1.837-.682 3.762-1.227 5.661-1.672a.844.844 0 0 1-.109-.38zm-8.399 2.663c.001-.105.005-.209.006-.314l-.022.09s-.656.717-1.507 1.641a25.18 25.18 0 0 1 2.621-1.322c-.591.08-1.099.057-1.098-.095zm-3.034 7.527c.309-.141.623-.234.864-.238 12.912-.174 25.722-3.742 38.152-6.93 2.673-.686 5.354-1.246 8.043-1.748l1.17-.318c-3.969-1.285-8.555-1.314-12.58-1.264-6.139.08-12.326.59-18.353 1.797-5.35 1.072-11.62 2.322-16.05 5.732-.772.594-1.56 1.213-2.114 2.031-.495.733.082.922.868.938zm22.044-46.207c-.058.092-.128.197-.205.311.381-.352.775-.686 1.183-1.006-.514.269-.86.507-.978.695zm12.804 89.928c-4.435 1.377-8.26 3.553-10.911 6.971 3.47 4.211 10.241-1.805 15.219-3.787-.451-1.285-1.034-2.574-1.371-3.896-.844.212-1.879.467-2.937.712zm42.75-.733c6.8.635 18.021 6.256 20.688-1.521-5.71-1.676-11.722-2.656-17.338-3.404-1.487 1.354-2.556 3.014-3.323 4.881-.006.013-.02.029-.027.044zm6.745 26.914c-.33.158-.668.301-1.002.447a.672.672 0 0 1 .305.461c.379 2.336.128 4.299-.57 5.967.632-.107 1.245-.004 1.372.441 1.295 4.559 5.015 8.025 5.608 12.818.137 1.104-2.775 1.764-2.898.777-.552-4.463-3.826-7.791-5.314-11.916-2.282 2.984-6.239 4.801-10.271 6.146 1.252 3.582 1.688 7.756 3.942 10.73 3.497 4.609 15.784 1.688 17.182-4.047 1.857-7.621-4.95-15.49-8.344-21.746-.015-.021-.017-.05-.01-.078zm47.481 52.617c.043-.008.088-.014.134-.021l-.146-.02c.002.012.007.026.012.041zm-10.897-69.712c.012 1.752.024 3.504.06 5.246 6.683.82 14.276.949 20.438-1.99.403-.191.81-.209 1.156-.121-1.206-2.998-2.502-5.955-3.926-8.832a.956.956 0 0 1-.096-.57.827.827 0 0 1-.037-.225v-.006c-3.742 1.563-7.872 2.551-12.003 3.217l-.727.207-1.355.104c-1.188.164-2.366.309-3.531.434 0 .721.015 1.436.02 2.154.037.13.038.258.001.382zm-40.181 18.781a.818.818 0 0 1-.004-.197c-4.038 1.457-8.26 2.389-12.358 3.789-.438.15-.789.16-1.042.084a1.899 1.899 0 0 1-.515.131c-3.376.355-1.747 6.977-.6 8.566.382.529 1.058.5 1.799.27-.033-.072-.063-.156-.098-.227-.215-.439 2.172-1.346 2.787-.9a.189.189 0 0 0 .018-.006c5.907-1.782 11.162-4.44 10.013-11.51zm-4.376-36.281-.159-.033.039.051c.039-.007.08-.015.12-.018zm-63.882 43.339-.123.303.009.025.114-.328zm134.985 37.768c-.293.383-.321.699-.194.939-1.104 1.645-2.253 2.547-4.655 2.857-3.689.48-6.975 1.207-10.735.416-7.245-1.525-12.903-7.572-17.175-13.217-4.2-5.553-7.448-11.998-9.185-18.738-1.408-5.469-2.345-10.762-5.972-15.27-.711-.881-3.492.182-2.677 1.195 5.329 6.619 5.357 15.939 8.9 23.5 3.617 7.721 8.769 14.877 15.592 20.045 2.306 1.744 4.654 2.912 7.077 3.629 3.898 13.133 13.361 26.945 11.58 41.135-.094.746 1.064.793 1.946.475.009.092.014.182.021.273-.679.137-1.334.52-1.374 1.029-1.358 17.379-3.273 34.713-4.75 52.08-.705 8.301-1.333 16.6-1.414 24.932-.082 8.557 1.525 16.906 2.565 25.369.04.324.319.492.687.545-4.828 2.1-9.851 3.77-14.938 5.043-8.563 2.146-19.559 3.354-26.731-2.898-7.198-11.711-11.327-24.174-11.901-38.045-.363-8.771.252-17.557.843-26.342.563-1.141.901-2.279.864-3.373-.007-.191-.267-.281-.623-.293.329-5.111.604-10.221.623-15.328.002-.479-2.896-.063-2.898.777-.022 6.107-.371 12.207-.752 18.305-.766 1.422-1.949 2.754-2.771 3.818-2.455 3.18-5.291 6.076-8.132 8.906-4.503 4.486-9.732 8.248-14.174 12.773-2.69 2.566-4.896 5.035-5.434 6.646a5.447 5.447 0 0 0-.137.484c-3.645 6.576-2.378 12.621.568 19.527l-1.044.52c-6.273 1.689-13.077 1.826-19.775.939a364.043 364.043 0 0 1-3.855-.623 79.249 79.249 0 0 1-11.34-3.066c-3.802-7.482-6.891-15.373-6.952-23.877-.063-8.945 5.646-15.596 10.415-22.6 3.886-5.703 7.801-11.381 11.811-16.982 1.004-.113 1.5-1.033 1.203-1.662 6.034-8.365 12.299-16.557 19.033-24.404.479-.115.915-.332 1.104-.631 5.602-8.912.407-23.824-2.167-32.869-2.415-8.477-5.358-16.84-8.661-25.049.226.084.608.102 1.168-.025 4.622-1.053 9.21-2.965 10.131-8.113 1.041-5.824-2.935-12.443-5.193-17.545-.06-.135-.214-.205-.421-.229.011-.473.016-.932.021-1.375.007-.713-2.889-.229-2.898.777l-.001.035c-4.378.693-8.78 1.326-13.039 2.559a139.9 139.9 0 0 1-2.087-5.773c-.416-1.238-3.303-.43-2.897.775.63 1.875 1.306 3.732 2.015 5.58-3.048 1.119-5.37 3.93-5.152 7.303.249 3.84 7.503 2.521 10.05 2.309-.37.24-.584.564-.428.912a299.595 299.595 0 0 1 2.298 5.172c-2.702 5.992-7.313 11.299-11.479 16.258a130.394 130.394 0 0 1-5.819 6.479c-5.58 5.809-11.968 3.391-16.709-1.633-6.081-6.441-10.371-14.504-12.621-23.027-1.834-6.945-2.568-14.092-4.561-21.008.241-.094.448-.227.581-.398 2.845-3.689 8.452-7.521 13.693-7.854.358.127.817.113 1.232-.012 1.097.053 2.169.258 3.18.688.096.041.207.061.325.07 1.853 1.215 3.316 3.486 4.51 6.057-6.43.613-12.826 3.961-17.247 8.463-.744.76 2.104.49 2.66-.078 3.801-3.869 9.588-7.068 15.151-7.104 1.349 3.213 2.332 6.65 3.17 8.887 2.136 5.705 4.764 11.203 6.739 16.973.232.68 3.101-.188 2.897-.777-2.166-6.324-5.021-12.377-7.362-18.637a50.307 50.307 0 0 1-.332-.916c.437-.162.794-.402.878-.691.961-3.301 2.646-6.273 3.653-9.553 1.428-4.646 1.565-9.748 2.757-14.48a18.636 18.636 0 0 1 1.676-4.359c5.082 4.037 11.918-3.229 17.207-4.791.669.84 3.063.098 2.755-1.049-.037-.139-.084-.273-.124-.41a.38.38 0 0 0-.064-.211c-.394-1.271-.904-2.504-1.312-3.77-.292-.908-1.103-3.107.334-3.045.131.006.271-.008.41-.021.267.053.53.107.779.166.186.152.361.316.529.492-.26.225-.268.406.278.43.034 0 .064-.002.1 0 1.156 1.422 1.863 3.33 2.378 5.143.354 1.244 3.249.459 2.898-.777-.439-1.547-1.021-3.08-1.826-4.416.751.102 1.313.164 1.313.164l.99-.473c7.774-1.313 13.412-6.006 18.354-12.705 1.905 3.008 4.018 5.893 6.064 8.646-.659.092-1.354.297-1.532.631-2.204 4.129-6.294 6.813-10.088 9.346-1.164.777 1.729.309 2.195-.004 3.75-2.502 7.792-5.143 10.221-9.039.315.162.787.158 1.245.041.052.01.095.021.15.029l2.993.373c-1.747 1.557-3.032 3.432-3.928 5.609a.263.263 0 0 0-.018.139c-.555.631-.429 1.547.915 1.461 8.015-.506 20.847 7.475 25.179-2.703 6.745 2.283 12.891 5.678 17.193 11.02.124 18.469 1.465 36.447 4.389 54.748.179 1.107 3.088.404 2.898-.775-2.507-15.691-3.853-31.139-4.256-46.873 7.218.791 15.098.648 21.689-2.498.21-.102.37-.213.492-.332 2.285 5.891 4.192 11.947 5.823 17.986 3.358 12.419 6.957 29.706-1.578 40.868zM421.11 285.92c-2.935-9.547-6.603-18.873-10.37-28.115-2.951-7.234-6.053-14.408-9.238-21.545-5.428-12.158-12.371-23.951-15.268-37.051-.188-.852-3.098-.121-2.898.777 2.858 12.922 9.668 24.547 15.037 36.533a771.833 771.833 0 0 1 8.581 19.902c3.688 8.9 7.185 17.893 10.223 27.037 2.246 6.764 5.345 14.834 4.622 22.102-.1 1.002 2.797.416 2.881-.426.636-6.405-1.717-13.186-3.57-19.214zm.774-75.896c-.16-.295-.721-.287-1.308-.146.121-.068.247-.123.368-.193 1.696-.982-.833-1.52-1.82-.947-5.063 2.936-10.912 3.813-16.395 5.668-.191-.146-.505-.223-.975-.174-4.308.455-5.509 3.717-4.989 7.697.362 2.768 1.784 6.197 5.122 5.246.462-.131.933-.268 1.405-.404 1.355 4.395 2.234 11.363 6.355 12.715 4.648 1.525 10.118-.146 14.471-1.926 13.171-5.384 2.077-19.587-2.234-27.536zm-35.592 91.297-7.607 10.904a294.147 294.147 0 0 1 5.512-6.613c.18-.209.479-.354.812-.439.63-1.194 1.038-2.495 1.283-3.852zm-41.131 90.537c.192.98.361 1.797.482 2.377.019.006.038.008.055.016.327.139.66.275.992.412a94.825 94.825 0 0 1-1.313-2.822 2.101 2.101 0 0 1-.216.017zm31.415-160.928c2.084-1.83 2.615-4.762 2.728-8.186-4.445.703-8.977 1.268-13.273 2.633-.457.354-1.218.541-1.802.418-.041.014-.068.031-.112.045-1.406.426-2.802 2.596-2.994 3.959-.37 2.619.888 3.418 3.309 3.391 2.468-.029 5.066-.07 7.518-.391 1.37-.18 2.475-.533 3.387-1.023.106-.369.647-.686 1.239-.846zm-44.003-23.437a7.182 7.182 0 0 0-.511.137c.17-.025.339-.037.508-.059l.003-.078zm39.993 31.246c.521-.025.915.055.828.264-.111.273-.236.545-.355.816a315.745 315.745 0 0 1 3.329 7.93c.137-.182.483-.377 1.091-.516 10.895-2.477 7.548-12.193 4.144-19.871-.466 1.699-1.288 3.232-2.763 4.275-.138.098-.282.172-.422.262.743 2.504 1.589 4.961 2.608 7.367.354.838-2.491 1.736-2.898.777-.944-2.232-1.74-4.508-2.443-6.82-1.677.58-3.445.855-5.249 1.014.105.08.194.176.251.301.635 1.394 1.26 2.796 1.879 4.201z" />
                    <path d="M371.813 143.93c.13.482-1.049.799-1.316.883-3.171.994-7.3 1.191-9.906-1.188-.506-.465 2.128-1.559 2.725-1.014 1.889 1.727 4.544 1.961 6.919 1.215.262-.083 1.453-.363 1.578.104zm-16.314.547h-4.807c-.659 0-1.521.211-1.911.799-.379.57.317.885.794.885h4.807c.659 0 1.521-.213 1.911-.801.379-.568-.318-.883-.794-.883zm-.43 10.465c-.307-.186-.563-1.033-.706-1.51a11.69 11.69 0 0 1-.324-1.408c-.008-.047-.047-.498-.038-.229-.044-1.436-2.96-.91-2.924.268.023.789.211 1.563.438 2.316.234.771.571 1.707 1.295 2.148.615.373 1.513.188 2.07-.207.458-.32.799-1.007.189-1.378zm4.624 10.506c-.001-.049-.003-.096-.001-.168.012-.479.122-.961.211-1.43.204-1.07.464-2.127.663-3.199.385-2.072.45-4.145-.494-6.066-.594-1.207-3.34-.109-2.646 1.299 1.319 2.682-.144 6.191-.601 8.932-.359 2.152.822 3.365 3 2.771 1.643-.452 1.314-2.221-.132-2.139zm9.788-13.842c-.212-.791-.442-1.646-.473-2.471-.015-.408-2.925.033-2.897.775.033.898.301 1.824.529 2.689.2.748.442 1.953 1.152 2.408.452.291 1.417-.051 1.854-.205.109-.037 1.288-.49.884-.75-.656-.421-.865-1.755-1.049-2.446zm55.198 153.529c.638-6.406-1.716-13.188-3.568-19.215-2.935-9.547-6.603-18.873-10.37-28.115-2.951-7.234-6.053-14.408-9.238-21.545-5.428-12.158-12.371-23.951-15.268-37.051-.188-.852-3.098-.121-2.898.777 2.858 12.922 9.668 24.547 15.037 36.533a771.833 771.833 0 0 1 8.581 19.902c3.688 8.9 7.185 17.893 10.223 27.037 2.246 6.764 5.345 14.834 4.622 22.102-.102 1.003 2.795.417 2.879-.425zm-.559-67.576c-4.354 1.779-9.821 3.451-14.471 1.926-4.121-1.352-5-8.318-6.355-12.715-.474.139-.942.273-1.405.404-3.338.951-4.76-2.479-5.122-5.246-.52-3.98.683-7.242 4.989-7.697.469-.049.782.027.975.174 5.481-1.855 11.33-2.732 16.395-5.668.987-.57 3.518-.035 1.82.947-.121.07-.247.125-.368.193.587-.141 1.146-.148 1.308.146 4.309 7.95 15.403 22.153 2.234 27.536zm-21.46-12.512c-.033-.072-.063-.156-.098-.227-.215-.439 2.172-1.346 2.787-.9a.189.189 0 0 0 .018-.006c5.906-1.781 11.161-4.438 10.013-11.51a.832.832 0 0 1-.004-.199c-4.038 1.459-8.26 2.391-12.358 3.791-.438.15-.789.16-1.042.082a1.83 1.83 0 0 1-.515.133c-3.376.355-1.747 6.977-.6 8.566.382.53 1.058.501 1.799.27zm16.326-14.246a.11.11 0 0 1-.011-.082c-.329.158-.667.301-1.001.447a.672.672 0 0 1 .305.461c.379 2.336.128 4.299-.57 5.967.632-.107 1.245-.004 1.372.441 1.295 4.559 5.015 8.025 5.608 12.818.137 1.104-2.775 1.764-2.898.777-.552-4.463-3.826-7.791-5.314-11.916-2.282 2.984-6.239 4.801-10.271 6.146 1.252 3.582 1.687 7.756 3.942 10.73 3.496 4.609 15.783 1.688 17.182-4.047 1.858-7.617-4.951-15.486-8.344-21.742zm128.619 258.623h-69.834c.049 1.668.082 3.695.108 5.781a.88.88 0 0 1 .304.68c.162 11.42 7.073 33.115-11.209 33.023a27.279 27.279 0 0 1-3.18-.209c-2.224.076-4.146-.176-5.071-.998a30.535 30.535 0 0 0-.417-.359c-3.452-1.371-6.372-3.732-7.898-7.377-.958-1.264-1.599-2.523-1.599-3.68 0-.76-.046-2.102-.109-3.787-.147-1.592-.191-3.199-.186-4.813-.228-6.166-.426-13.641.068-16.613-.209-.84-.432-1.676-.658-2.508h-37.402c1.427 3.363 2.507 6.859 2.332 10.303.247 1.898.012 3.789-1.392 5.25l-.015.033a.845.845 0 0 1-.316.293l-.006.006c-3.707 3.254-9.312 4.109-14.029 4.635-10.95 1.221-22.149.998-33.151.842-6.515-.094-14.938.887-21.211-1.352-.099-.037-.371-.133-.238-.311.18-.238.384-.451.572-.68.039-.813.262-3.27 1.463-5.65-6.839-.664-13.175-3.258-19.094-7.518-3.104-2.232-6.13-4.723-9.249-7.072H121.605c-.32.266-.643.529-.964.793-7.451 6.102-14.764 11.23-23.862 14.564-13.421 4.916-39.078 9.611-36.718-12.574.123-1.15 3.063-1.637 2.918-.289-2.636 24.768 31.13 13.492 43.005 6.643 4.475-2.582 8.695-5.795 12.852-9.137H46.575c-1.96 0-.22-1.93 1.051-1.93h73.591c13.475-10.988 26.603-22.342 45.715-16.746.172.051.293.113.39.184 3.657-4.025 11.105-5.729 15.688-5.816 1.004-.02 1.359.551 1.246 1.119.432.006.738.109.673.352-.27.988-.437 2.029-.557 3.094h8.118c.398 0 1.178.199.756.744-.412.531-1.279.764-1.92.764h-7.087c-.104 1.676-.102 3.395-.053 5.1.165-.025.329-.041.479-.041h7.812c.438 0 1.176.254.774.813-.401.561-1.268.781-1.915.781h-7.099c.051 1.447.104 2.871.104 4.223 0 .797-2.354 1.23-2.813.908-6.061.701-18.359 1.723-16.22-8.293a7.562 7.562 0 0 1 .879-2.23c-.35.115-.703.156-.979.076-16.657-4.875-29.229 5.047-41.265 14.973h189.604c-4.045-2.844-8.317-5.279-13.17-6.484-13.889-3.451-27.824 3.188-41.561 4.818-13.411 1.596-25.865-.576-35.654-10.48-.271-.273-.21-.564.023-.818-5.17 2.029-12.54.063-16.851-2.205-.587-.309-.699-.734-.552-1.129-.569.283-1.29.391-1.771.1l-.032-.02c-.254-.152-.39-.479-.361-.766.163-1.686 2.73-3.785 3.736-4.973 2.105-2.479 4.247-4.947 6.158-7.584.357-.49 1.077-.666 1.685-.578.443-.236.979-.34 1.421-.158 3.486 1.434 8.571 2.85 10.702 6.279 1.852 2.98 1.381 6.594-1.101 9.086a8.304 8.304 0 0 1-1.742 1.316c.527-.102 1.063-.057 1.355.24 12.334 12.479 28.59 11.281 44.477 7.805 10.721-2.346 21.874-5.863 32.777-2.43 5.488 1.73 10.169 4.689 14.681 7.98h55.521c1.96 0 .219 1.93-1.051 1.93h-51.882c1.681 1.275 3.354 2.572 5.057 3.848 6.404 4.793 12.918 8.102 20.351 8.844.768-.938 1.737-1.777 3.001-2.375 5.097-2.414 19.521-6.742 24.482-9.566 1.193-1.725 1.448-3.549.411-5.869-1.496-3.35-3.034-6.682-4.572-10.014-8.564-18.561-16.423-37.998-26.612-55.742-.12-.211.514-.59 1.224-.822-.114-.049-.231-.096-.346-.145-1.019-.434 1.5-1.514 2.291-1.268.019.006.038.008.055.016.327.141.66.275.992.412a94.704 94.704 0 0 1-1.313-2.82c-.069.01-.142.016-.216.018l-.037.002h-6.23c-.676 0-1.046-.252-1.183-.578a.94.94 0 0 1-.446-.412c-8.821-17.316-16.23-35.275-23.987-53.082-9.19 19.514-18.518 38.984-28.646 58.021-.377.707-3.023.861-2.852.535.08-.15.158-.305.239-.455-5.513.086-10.984.639-16.493.758-.635.666-2.006.906-2.442.088-.057-.105-.112-.213-.169-.316a.683.683 0 0 1-.269-.506c-5.55-10.41-11.095-20.822-16.535-31.291-.678-1.303-1.547-2.682-2.32-4.086-.85 1.639-1.953 3.273-2.533 4.434-5.264 10.523-10.781 20.924-16.315 31.309-.009.018-.022.031-.032.047-.024.543-.619 1.15-1.508 1.15h-22.03c-.854 0-1.213-.373-1.218-.795-.232-.012-.413-.072-.487-.211-8.681-16.326-16.67-33.031-24.443-49.822-7.41 15.92-15.072 31.719-22.633 47.568-.485 1.02-3.142 1.166-2.822-.055-3.99.092-7.957.457-11.946.561-.661.623-1.958.82-2.367.021l-.153-.299a.682.682 0 0 1-.183-.357c-4.353-8.49-8.704-16.982-12.967-25.521-.202-.404-.72-1.193-1.25-2.09-.61 1.129-1.292 2.215-1.688 3.035-4.012 8.32-8.21 16.555-12.424 24.775-.012.023-.03.043-.044.066-.089.516-.662 1.051-1.496 1.051H88.33c-.801 0-1.162-.33-1.208-.721-.193-.021-.34-.084-.402-.207-9.13-17.863-17.262-36.254-25.326-54.617-4.722-10.748-10.367-21.592-14.075-32.75-.122-.367.604-.639 1.355-.785.24-.141.535-.234.878-.234h24.572c.414-.057.769-.039.893.09.029.029.048.063.069.096a.021.021 0 0 1 .012-.004c0 .008.003.016.004.023.019.025.042.049.059.078.002.006-.001.012.001.018.259.24.276.594.114.914 1.02 5.031 4.354 10.572 6.301 15.096a593.544 593.544 0 0 0 15.634 33.428c2.672-5.289 5.341-10.58 7.979-15.885.229-.461 1.469-2.545 1.977-3.678-.093-.027-.143-.068-.116-.123.113-.236.221-.479.351-.703.003-.006.015-.014.019-.02.004-.553.607-1.182 1.513-1.182h22.511c.495-.197 1.123-.287 1.409-.32a1.08 1.08 0 0 1 .749.176.522.522 0 0 1 .061-.025c-.003.023.006.057.004.08.043.033.085.068.125.105.983.1 1.15.771.801 1.307.089.199.173.395.255.563.049.1-.084.236-.313.375.451.799.947 1.561 1.161 1.992 2.601 5.285 5.281 10.531 7.968 15.771a677.246 677.246 0 0 0 17.688-37.971c-2.655-5.873-5.3-11.752-7.913-17.645-1.615-3.643-4.155-7.686-5.068-11.592-.121-.521 1.83-1.104 2.616-.928h31.155c.643-.188 1.311-.236 1.528.078.03.039.056.082.075.129.004.006-.001.016.001.023.387.27.396.73.131 1.117.554 1.518 1.816 4 2.019 4.486a531.171 531.171 0 0 0 6.261 14.563 725.04 725.04 0 0 0 20.688 42.484c3.617-6.885 7.23-13.771 10.805-20.682.768-1.482 1.909-3.131 2.588-4.768-.083-.027-.126-.066-.102-.115.146-.293.276-.613.457-.885.001-.002.005-.004.005-.006.007-.551.609-1.178 1.513-1.178h29.219c.597-.43 1.847-.674 2.338-.516.229.072.44.27.638.523 1.152.066 1.281.875.804 1.439.135.297.253.568.351.762.053.104-.106.252-.372.404.675 1.219 1.408 2.428 1.579 2.762 3.514 6.855 7.131 13.658 10.754 20.457a834.802 834.802 0 0 0 21.089-43.152c2.276-5.023 4.523-10.063 6.681-15.139.604-1.428 2.192-3.893 2.268-5.451-.035-.023-.053-.051-.035-.084a.601.601 0 0 1 .069-.121c.259-.359 2.883-1.242 2.875-.654a3.757 3.757 0 0 1-.087.715h29.626c.354-.506 3.02-1.119 2.844-.527-.063.211-.144.422-.212.633 1.021.381.513 1.678-.673 1.861-1.449 3.662-3.53 7.27-5.128 10.748-1.753 3.818-3.52 7.631-5.283 11.443 6.064 15.232 12.899 30.127 20.307 44.748a2563.27 2563.27 0 0 0 7.983-15.895c.229-.461 1.469-2.545 1.978-3.678-.094-.027-.144-.068-.116-.123.111-.234.219-.477.348-.699-.033-.627.535-1.342 1.495-1.342h5.319c4.482-6.209 9.098-12.318 13.93-18.268a291.437 291.437 0 0 1 5.511-6.613c.18-.209.479-.355.813-.439.632-1.191 1.04-2.494 1.284-3.852.604-3.33.235-6.982-.192-10.119-.912-6.682-2.565-13.25-4.536-19.695-2.924-9.563-6.376-18.982-10.272-28.205-3.483 6.154-8.621 11.795-13.203 16.848-4.313 4.754-10.391 9.961-17.392 7.41-9.045-3.299-15.77-14.803-18.729-23.529-2.938-8.662-3.556-17.877-6.229-26.619-.038-.125.045-.258.2-.385a.45.45 0 0 1-.109-.086c-2.92-3.441-7.516-4.094-11.151-6.475-2.018-1.318-3.457-3.23-4.784-5.229-.963-1.449-2.938-4.008-1.945-5.85.373-.691 1.134-1.055 1.973-1.234-.683-1.262-1.156-2.58-1.229-3.781-.152-2.508 2.063-3.314 4.235-3.367-.188-.914-.218-1.816-.017-2.67.627-2.658 2.467-4.092 4.498-3.77.121-1.244.834-2.211 2.504-2.615 5.313-1.285 7.216 4.264 9.349 8.771.118-1.496.571-2.938 1.52-4.184 1.047-1.375 4.681-2.709 5.864-.734.861 1.436.957 2.994 1.403 4.572.726 2.566 2.058 3.844 3.862 5.65 3.607 3.607 3.729 6.781 3.594 11.434 1.503.086 2.97.395 4.351.98.232.098.34.223.362.357 2.309 1.266 4.012 4.15 5.339 7.229.062.004.124.002.187.006.696.041.538.336.092.643a66.26 66.26 0 0 1 1.178 3.115l.114-.328c1.361-3.869 2.91-7.48 3.588-11.742.753-4.74 1.316-10.021 3.805-14.24 3.789-6.432 10.254-9.316 17.278-10.947.146-.033.267-.041.392-.053-.02-.219-.04-.438-.037-.658.016-1.133.503-1.914 1.232-2.424-2.594-.076-5.12.488-7.695.715-4.499.396-9.36-.057-12.618-3.598-4.17-4.535-6.21-11.365-7.636-17.215-1.343-5.506-2.339-11.17-2.182-16.855-3.603.242-9.789 1.939-12.651-.67-.314-.287-.468-.635-.282-1.053 1.139-2.555 3.242-4.506 5.829-6.018a25.18 25.18 0 0 1 2.621-1.322c-.591.082-1.099.061-1.098-.094l.006-.313c.073-8.285 1.16-16.281 4.587-23.162a32.162 32.162 0 0 1 2.684-4.467c2.013-2.797 4.527-5.344 7.691-7.557.244-.17.911-.32 1.519-.4a22.978 22.978 0 0 1 2.318-2.471c.381-.35.775-.684 1.182-1.006.48-.381.974-.746 1.49-1.086 7.482-4.895 22.088-11.068 28.372-1.207.035.055.055.109.076.164.174-.018.337-.01.471.033.257.08.513.168.77.254.052.018.104.033.154.051 6.826 2.291 13.329 5.953 17.132 12.316 4.022 6.732 5.432 14.402 6.552 22.064.109.754-1.109 1.305-2.003 1.297-.07.154-.215.324-.41.484.002.008.008.014.01.02 1.493 5.328 3.162 10.75 2.657 16.359-.697 7.768-4.475 13.965-10.136 19.193-.023.021-.058.041-.086.063 2.34 4.295 5.305 8.354 8.143 12.166l.039.053a1.427 1.427 0 0 1 .44-.018c13.821 1.703 31.536 3.994 41.938 14.432.201-.104.433-.184.67-.232l.037-.014c.615-4.055-.099-7.436-2.569-10.748-1.322-1.777-3.227-3.523-4.103-5.586-2.081-4.896-.835-11.07-4.386-15.309-.006-.006-.007-.014-.012-.02-.393-.229-.555-.641-.142-1.223 1.233-1.74 2.811-3.223 5.087-2.902 1.926.27 3.104 2.396 4.035 3.863 1.013 1.598 2.314 2.799 3.612 3.939 3.058-2.656 2.264-8.967 4.1-12.385 1.206-2.246 3.794-4.766 6.597-4.057.622.158 1.04.559 1.307 1.125.158-.072.315-.146.488-.193 1.146-.318 2.594-.172 3.218 1.01.058.109.1.221.151.332 2.598-1.713 6.2-3.016 6.784 1.098.022.158.025.316.043.475.22-.029.431-.025.603.033 5.297 1.82 4.37 8.242 3.049 12.598-1.008 3.324-2.733 6.336-3.777 9.639-1.543 4.885-2.11 9.715-1.984 14.828.001.023-.009.045-.011.066 4.984 10.127 8.832 21.133 11.389 32.104 2.759 11.844 5.206 26.793-1.849 37.623a.789.789 0 0 1-.108.348c-2.555 4.488-4.734 5.252-9.616 6.029-3.245.52-6.323.691-9.281.318-.049-.006-.099-.014-.146-.021.004.016.009.027.014.041 4.18 12.854 12.844 26.174 11.104 40.031-.045.357-.454.652-.951.832-.883.32-2.04.271-1.946-.473 1.781-14.189-7.683-28.004-11.58-41.135-2.423-.717-4.772-1.885-7.077-3.631-6.823-5.168-11.975-12.322-15.592-20.043-3.543-7.561-3.571-16.881-8.9-23.502-.815-1.014 1.965-2.076 2.676-1.193 3.627 4.506 4.563 9.801 5.973 15.27 1.734 6.74 4.982 13.186 9.185 18.736 4.271 5.645 9.93 11.691 17.175 13.217 3.762.793 7.046.064 10.735-.414 2.402-.313 3.551-1.215 4.655-2.859-.127-.24-.1-.557.193-.938 8.535-11.164 4.938-28.451 1.582-40.869-1.631-6.039-3.537-12.098-5.822-17.988a1.808 1.808 0 0 1-.492.332c-6.593 3.148-14.473 3.289-21.689 2.498.403 15.736 1.748 31.184 4.256 46.873.188 1.184-2.722 1.887-2.898.777-2.924-18.301-4.265-36.279-4.389-54.748-4.305-5.342-10.448-8.736-17.193-11.02-4.332 10.178-17.164 2.197-25.179 2.703-1.344.084-1.47-.832-.915-1.463a.227.227 0 0 1 .017-.137c.896-2.178 2.182-4.053 3.929-5.609a624.799 624.799 0 0 0-2.993-.373c-.058-.008-.101-.021-.15-.029-.458.115-.93.121-1.245-.041-2.429 3.896-6.471 6.537-10.221 9.039-.468.313-3.359.779-2.195.004 3.794-2.531 7.883-5.219 10.088-9.346.18-.334.873-.541 1.532-.633-2.048-2.752-4.159-5.637-6.065-8.645-4.94 6.699-10.578 11.393-18.354 12.705-.752.127-1.528.217-2.322.279.006.01.012.02.02.029.807 1.334 1.387 2.869 1.825 4.414.352 1.238-2.545 2.021-2.897.777-.516-1.813-1.222-3.719-2.378-5.143-.034-.002-.065 0-.101 0-.546-.021-.537-.205-.277-.43a7.002 7.002 0 0 0-.858-.752 2.621 2.621 0 0 1-.451.094c-.14.016-.278.027-.409.021-1.437-.063-.626 2.137-.334 3.045.405 1.266.918 2.498 1.312 3.77l.064.213c.04.137.087.27.124.408.308 1.146-2.086 1.889-2.756 1.049-5.288 1.564-12.125 8.828-17.207 4.791a18.821 18.821 0 0 0-1.676 4.359c-1.189 4.734-1.329 9.836-2.756 14.482-1.007 3.277-2.693 6.252-3.654 9.551-.084.291-.44.529-.878.691.114.322.226.631.332.918 2.344 6.258 5.197 12.313 7.363 18.637.202.59-2.665 1.457-2.898.775-1.976-5.77-4.604-11.266-6.738-16.973-.838-2.236-1.821-5.672-3.17-8.885-5.563.033-11.353 3.23-15.151 7.102-.558.568-3.405.838-2.66.08 4.42-4.502 10.817-7.85 17.247-8.465-1.192-2.57-2.658-4.842-4.51-6.057a1.115 1.115 0 0 1-.325-.068c-1.011-.432-2.083-.637-3.18-.688-.415.125-.874.139-1.233.01-5.241.334-10.849 4.164-13.692 7.854a1.346 1.346 0 0 1-.581.4c1.99 6.914 2.727 14.061 4.561 21.008 2.25 8.521 6.54 16.584 12.621 23.025 4.741 5.021 11.129 7.439 16.709 1.633a129.402 129.402 0 0 0 5.819-6.479c4.168-4.957 8.776-10.266 11.479-16.258a310.197 310.197 0 0 0-2.298-5.172c-.157-.346.057-.672.427-.912-2.546.215-9.8 1.533-10.049-2.309-.218-3.371 2.104-6.182 5.152-7.303a141.646 141.646 0 0 1-2.016-5.578c-.403-1.207 2.482-2.016 2.898-.777.65 1.941 1.351 3.863 2.087 5.773 4.259-1.23 8.661-1.863 13.039-2.559l.001-.033c.011-1.008 2.905-1.492 2.897-.777-.005.441-.009.902-.02 1.373.207.023.361.094.421.229 2.26 5.104 6.234 11.723 5.193 17.547-.921 5.146-5.51 7.061-10.132 8.111-.559.127-.941.109-1.168.027 3.304 8.207 6.246 16.572 8.661 25.049 2.575 9.043 7.77 23.957 2.167 32.867-.188.301-.626.516-1.104.631-6.734 7.85-12.999 16.039-19.033 24.406.297.629-.2 1.547-1.203 1.66-4.01 5.604-7.925 11.279-11.811 16.982-4.771 7.004-10.479 13.654-10.415 22.602.062 8.504 3.149 16.395 6.952 23.877a78.748 78.748 0 0 0 11.34 3.064c1.311.219 2.605.43 3.854.623 6.699.889 13.502.748 19.776-.938.378-.104.755-.207 1.129-.32-.028-.066-.056-.135-.085-.201-2.947-6.904-4.213-12.951-.569-19.525.442-.799.94-1.604 1.533-2.418 1.227-1.688 2.591-3.24 4.037-4.713 4.44-4.525 9.671-8.289 14.173-12.773 2.841-2.832 5.677-5.729 8.132-8.908.822-1.063 2.008-2.396 2.772-3.818.381-6.098.729-12.195.752-18.305.004-.842 2.899-1.258 2.897-.775-.02 5.105-.294 10.217-.623 15.328.357.01.616.1.623.293.037 1.092-.302 2.232-.863 3.371-.592 8.785-1.206 17.57-.844 26.344.574 13.869 4.703 26.334 11.902 38.045 7.173 6.252 18.168 5.043 26.73 2.896 5.089-1.273 10.11-2.943 14.938-5.043-.367-.053-.646-.221-.687-.545-1.041-8.463-2.647-16.813-2.565-25.367.081-8.332.709-16.633 1.414-24.932 1.476-17.369 3.391-34.703 4.75-52.082.04-.51.694-.893 1.374-1.029.78-.154 1.593.02 1.538.723-1.359 17.379-3.294 34.709-4.75 52.08-.694 8.287-1.42 16.607-1.414 24.93.007 8.412 1.528 16.58 2.552 24.902a.704.704 0 0 1-.044.332l.198-.094 6.371-3.346.105-.059c.023-.016.051-.023.076-.037l.29-.152.007.039c.99-.273 2.451.172 1.959.857.306.107.548.316.649.654 5.369 17.875-2.59 35.383-5.793 53.137-.529 3.625-.827 6.607-.729 8.104.029.432.056.973.078 1.596h71.1c1.908.016-.4 1.301-1.25 1.301zM354.59 129.323c-.001.049-.014.096-.026.141.168-.025.337-.053.5-.076 8.872-1.35 20.769-3.068 29.682.211l.074-.137.063.193c.521.195 1.033.4 1.53.631.235.109.392.238.493.379.053.002.1.01.146.016l21.749-3.182.951-.141.004.012.042-.006c-.006-.018-.014-.031-.018-.051-.002-.012-.009-.02-.011-.031-.982-6.729-2.045-13.922-5.355-19.973-3.854-7.043-10.084-11.191-17.565-13.66-19.407-3.031-31.945 18.896-32.259 35.674zm78.331 52.959c-5.71-1.676-11.722-2.654-17.338-3.404-1.487 1.354-2.556 3.014-3.323 4.881-.007.016-.021.031-.027.047 6.798.634 18.02 6.255 20.688-1.524zm44.292 14.476c-1.206-2.998-2.502-5.955-3.926-8.832a.949.949 0 0 1-.096-.57.827.827 0 0 1-.037-.225v-.006c-3.742 1.563-7.872 2.551-12.003 3.217a101.651 101.651 0 0 1-5.613.745c0 .723.015 1.438.019 2.156a.65.65 0 0 1 .004.383c.012 1.752.024 3.502.06 5.244 6.683.822 14.276.951 20.438-1.988a1.67 1.67 0 0 1 1.154-.124zm-20.38-6.777c5.502-.588 11.428-1.586 16.326-3.926-.008-6.896 1.521-12.934 4.279-19.289 1.446-3.338 4.584-11.715.831-14.602-.113 2.977-.879 5.955-1.286 8.875-.188 1.354-3.152 1.719-2.941.201.418-2.994 1.152-5.955 1.271-8.986.03-.816.266-2.969-.547-3.553-.402-.289-1.779.857-2.688 1.674.748 4.02-1.057 8.424-2.313 12.133-.386 1.139-3.334 1.488-2.922.27.99-2.926 2.347-6.018 2.422-9.15.018-.732.043-1.713-.078-2.639a.733.733 0 0 1-.151-.797c-.112-.426-.269-.82-.499-1.141-.299-.416-.088-.385-.592.588-.044.078-.074.164-.116.242-.318 4.051-2.772 9.871-3.562 11.367-.527 1-3.459 1.15-2.74-.217 1.115-2.115 1.828-4.523 2.404-6.836.136-.541.442-1.539.677-2.605-.181-.174-.236-.432-.08-.783.103-.23.212-.469.328-.709.105-1.035.03-1.969-.474-2.436-.655-.605-2.776 4.377-2.886 4.803-.418 1.627-.694 3.277-1.069 4.916-.557 2.434-1.27 4.83-3.381 6.326 1.778 1.641 3.299 3.436 3.693 6.357.184 1.369-2.722 2.088-2.898.777-.632-4.695-3.793-5.381-6.582-8.504-1.036-1.16-1.802-2.414-2.677-3.691-1.133-1.656-1.741-2.375-2.932-1.006 4.215 5.078 1.848 12.414 5.975 17.637 3.67 4.647 6.166 8.602 5.208 14.704zM355.885 99.083c-5.624 9.119-7.38 20.711-6.893 31.287.001.012-.003.021-.003.033a93.952 93.952 0 0 1 2.741-.492.63.63 0 0 1-.043-.24c.332-17.865 13.492-37.738 32.282-37.969-2.805-3.209-7.218-3.816-11.779-2.898-1.646.33-3.308.859-4.922 1.533-4.903 2.048-9.344 5.439-11.383 8.746zm-15.371 33.595c1.837-.684 3.762-1.229 5.661-1.674a.812.812 0 0 1-.107-.377c-.429-9.271.705-21.529 6.01-30.275.14-.23.284-.455.429-.68a30.87 30.87 0 0 0-1.617 1.494c-8.21 8.207-10.253 19.479-10.32 31.346a.373.373 0 0 1-.056.166zm-4.632 5.17c-.772.596-1.56 1.215-2.114 2.031-.496.732.08.922.866.938.309-.139.623-.234.864-.238 12.912-.172 25.722-3.742 38.152-6.93 2.673-.686 5.354-1.246 8.043-1.746l1.17-.32c-3.969-1.283-8.555-1.313-12.58-1.262-6.139.078-12.326.588-18.353 1.797-5.348 1.07-11.619 2.32-16.048 5.73zm39.636 39.686c2.188.268 3.789 1.32 4.993 2.779 9.584.033 15.24-6.148 20.362-13.686-1.8-3.053-3.332-6.223-4.319-9.504-.122-.406.218-.771.703-1.014.004-.531.622-1.234 1.497-1.352.742-.1 1.362-.33 1.873-.66.965-1.178 1.771-2.541 1.887-3.885.088-3.406-2.234-7.527-5.587-7.982a20.596 20.596 0 0 0-2.686.422 7.625 7.625 0 0 0-1.707 1.045c-.31.248-.732.352-1.138.348l-1.472.734-.144-.43c-.338.037-.623.006-.754-.139-2.775-3.059-3.575-7.816-4.354-11.822-.537.104-1.073.213-1.608.326l-.351.648s.603.902-3.905 3.605c-4.507 2.703-14.722 1.201-14.722 1.201l-.509-.68c-5.754 1.396-11.577 2.701-17.445 3.559a.788.788 0 0 1 .057.328c-.333 7.068 1.111 14.449 3.269 21.162 1.893 5.891 4.64 14.834 11.989 15.609 4.729.505 9.351-1.187 14.071-.612zm-6.036 7.004c-4.435 1.377-8.26 3.553-10.911 6.971 3.47 4.211 10.241-1.805 15.219-3.787-.451-1.285-1.034-2.574-1.371-3.896-.008-.029-.018-.063-.025-.094-.087.029-.154.064-.256.086-.907.21-1.792.452-2.656.72zm12.12 42.824c-.466 1.699-1.289 3.232-2.763 4.275-.138.098-.282.172-.422.262.743 2.504 1.589 4.961 2.608 7.367.354.838-2.491 1.736-2.898.777-.944-2.232-1.74-4.508-2.443-6.82-1.677.58-3.445.855-5.249 1.014.105.08.194.176.251.301a335.995 335.995 0 0 1 1.881 4.201c.521-.025.914.055.828.264-.111.273-.236.545-.355.816a315.745 315.745 0 0 1 3.329 7.93c.137-.182.483-.377 1.091-.516 10.894-2.477 7.546-12.193 4.142-19.871zm-9.655 5.437c1.37-.18 2.475-.533 3.387-1.023.109-.367.65-.686 1.243-.846 2.084-1.83 2.615-4.762 2.728-8.186-4.445.703-8.977 1.268-13.273 2.633-.457.354-1.218.541-1.802.418-.041.014-.068.031-.112.045-1.406.426-2.802 2.596-2.994 3.959-.37 2.619.888 3.418 3.309 3.391 2.464-.029 5.063-.07 7.514-.391zm-53.908-17.435c3.371-3.75 8.707-6.926 14.023-7.734.17-.025.339-.037.508-.059l.003-.078c.124-3.492.194-6.668-2.559-9.422-1.511-1.512-3.423-2.945-4.211-5.01-.447-1.174-.729-2.275-.993-3.498a16.266 16.266 0 0 0-.373-1.539l-2.14 1.391c-.241 2.258.052 4.375.843 6.488.155.416-.036.779-.385 1.041a.98.98 0 0 1 .107.453c0 1.617.025 3.215.276 4.816.227 1.441-2.678 2.182-2.897.775-.28-1.791-.321-3.588-.322-5.396 0-.314.158-.574.396-.773-.026-.045-.056-.088-.074-.139-.067-.18-.131-.361-.192-.545-.382.035-.724-.014-.91-.195-1.649-1.613-2.54-4.014-3.544-6.045-.99-2.006-2.251-5.428-4.457-6.432-1.94-.883.451 4.889.778 5.5.982 1.836 2.107 3.582 3.313 5.275.628.885-2.179 1.834-2.701 1.1-1.004-1.412-3.487-4.748-4.598-7.762a1.124 1.124 0 0 1-.485-.264c-1.695-1.662-1.868 1.557-1.636 2.553.209.896.506 1.768.901 2.604.838 1.768 1.86 3.461 3.087 4.988.924 1.15-1.835 2.293-2.654 1.271-1.295-1.611-2.971-3.941-3.823-6.316a2.364 2.364 0 0 1-.54-.043c-.501-.104-.963.012-.924-.162-.053.076-.118.143-.149.23a2.595 2.595 0 0 0-.122 1.156c.132 1.041.486 2.041.956 2.979.969 1.928 2.232 3.918 3.988 5.223.492.365-2.049 1.512-2.726 1.012-1.095-.813-2.231-2.061-3.163-3.453h-.002c-.492-.045 1.127 3.518 1.429 3.992 1.013 1.609 2.145 3.18 3.428 4.586 3.342 3.662 9.033 3.901 12.544 7.432zm34.25 132.951c3.564-5.223 7.155-10.42 10.827-15.557h-2.783c-.612 1.215-1.577 2.689-1.75 3.037-2.082 4.182-4.19 8.35-6.294 12.52zm-178.493-4.754a4554.479 4554.479 0 0 1-7.172-15.639c-1.286-2.814-2.559-5.637-3.837-8.455a676.853 676.853 0 0 1-18.182 38.58c-.514 1.004-3.441 1.164-2.738-.211.1-.195.193-.393.293-.588-.178-.021-.313-.084-.373-.197-3.03-5.912-6.073-11.82-8.997-17.785-.308-.629-1.195-1.922-1.69-3.041h-21.245c-.606 1.238-1.639 2.814-1.817 3.176a3756.855 3756.855 0 0 1-9.828 19.551c-.356.707-3.021.873-2.852.539l.323-.643c-.163-.027-.291-.088-.348-.197-6.14-12.025-11.896-24.25-17.172-36.68-1.773-4.184-4.822-9.254-5.783-13.895H50.831c3.827 10.928 9.308 21.582 13.954 32.131C72.662 358.09 80.587 376 89.473 393.411h14.773c4.13-8.063 8.26-16.133 12.179-24.301.563-1.172 2.031-3.738 2.586-5.213-.083-.189-.075-.426.066-.717.119-.244.248-.443.395-.621.01-.031.012-.068.023-.098.345-.832 2.188-1.438 2.716-.457.07.131.132.266.196.396.025.055.038.107.055.16.231-.199.335.664.713 1.432a796.485 796.485 0 0 0 2.608 5.234 3221.679 3221.679 0 0 0 11.961 23.51c4.327-.088 8.626-.527 12.957-.588 7.724-16.172 15.548-32.295 23.076-48.561.005-.006.014-.016.019-.026zm142.426-17.566c2.779-5.93 5.541-11.865 8.293-17.809a1.33 1.33 0 0 0-.021-.051c-.098-.246.072-.494.366-.699 1.788-3.863 3.576-7.727 5.351-11.596 1.563-3.406 3.617-6.941 4.989-10.529h-29.651c-.52 1.117-1.158 2.227-1.52 3.07a702.412 702.412 0 0 1-6.68 15.141c-7.236 15.898-14.906 31.596-23.105 47.023-.376.707-3.024.859-2.852.533.225-.424.439-.852.664-1.273-.33.021-.595-.029-.688-.205-4.021-7.545-8.063-15.082-11.934-22.703-.23-.453-1.362-2.152-2.006-3.531h-28.499c-.688 1.523-1.728 3.045-2.439 4.424-4.213 8.137-8.472 16.246-12.732 24.357-.371.705-3.02.859-2.852.539l.458-.873c-.229-.012-.408-.072-.481-.211-8.116-15.275-15.715-30.834-22.683-46.668-1.973-4.484-3.919-8.982-5.753-13.525-.168-.416-1.072-2.07-1.498-3.293H151.8c1.212 3.566 3.386 7.182 4.852 10.479a3060.645 3060.645 0 0 0 7.085 15.811c.628.049 1.097.361.813 1.025-.056.131-.114.26-.171.391 1.877 4.152 3.758 8.301 5.653 12.443 10.348 22.605 20.756 45.258 32.425 67.221h19.908c5.347-10.035 10.687-20.078 15.771-30.248.795-1.59 2.909-5.025 3.623-7.016-.129-.197-.147-.459.021-.795.134-.266.289-.516.469-.734.19-1.031 2.219-1.563 2.792-.625.097.16.173.336.257.502.073.145.103.287.108.424.833 2.107 2.911 5.486 4.032 7.635 5.239 10.041 10.556 20.043 15.884 30.037 5.928-.1 11.813-.734 17.745-.777 11.752-22.273 22.471-45.103 33.155-67.894zm28.253 63.746c-2.442-5.932-4.146-12.279-3.545-18.6.558-5.852 3.047-10.539 6.068-15.121-.634.066-1.174.021-1.095-.135l.282-.561a.639.639 0 0 1-.307-.279c-7.326-14.34-14.096-28.939-20.147-43.859a3470.205 3470.205 0 0 1-7.179 15.379 4374.47 4374.47 0 0 1-3.728 7.934.89.89 0 0 1 .449.443c8.033 18.363 15.627 36.92 24.714 54.799h4.488zm-120.201 59.332c4.856-6.293-4.053-9.775-8.758-11.684-1.683 2.26-3.517 4.406-5.338 6.553-.884 1.041-1.776 2.076-2.64 3.137-.286.352-.579.701-.845 1.068-.02.025-.024.035-.039.055a.322.322 0 0 1-.016.061c.43-.205.936-.268 1.352-.047 3.729 1.958 13.031 5.07 16.284.857zm-42.862 9.631c-.118-4.404-.47-9.248.585-13.408-4.678.287-13.325 2.4-13.869 7.693-.8 7.771 8.259 6.324 13.284 5.715zm205.146-72.436c.169.027.298.09.355.203.455.889.911 1.773 1.366 2.662 4.384-.088 8.735-.541 13.124-.594a993.845 993.845 0 0 0 14.241-29.301c.076-.164.244-.307.463-.428.131-2.762.287-5.523.459-8.285-1.444 1.664-2.983 3.16-4.038 4.285-5.756 6.133-12.777 10.986-18.468 17.102-3.677 3.954-7.08 8.887-7.502 14.356zm5.224 11.84.443-.109a1.228 1.228 0 0 1-.031-.063c-.136.061-.275.113-.412.172zm14.827 87.535c-.897.465-1.887.871-2.938 1.227 1.115-.334 2.099-.739 2.938-1.227zm40.755-19.047c-2.179-7.354-5.193-14.344-9.706-20.818-7.147-10.254-8.775-21.811-11.662-33.688-.137-.564.691-1.045 1.5-1.195-7.232-11.912-11.422-24.781-11.656-38.883-.042-2.541-.003-5.082.064-7.621-4.112 8.688-8.327 17.322-12.701 25.883-.43.84-3.237 1.111-2.883.418l.068-.139c-4.469.1-8.906.574-13.382.6.605 2.303 1.657 4.314 2.636 6.508a34.863 34.863 0 0 0 2.331-1.016c.074-.035.169-.064.271-.092.756-.402 2.11-.756 2.399-.262 3.229 5.518 3.938 12.639 4.72 18.857 1.026 8.182 1.615 16.402 2.491 24.602.807 7.541 2.078 14.51 5.259 21.473.812 1.777 1.751 3.65 2.634 5.58.259-.125.533-.205.792-.205 12.276-.002 24.55-.002 36.825-.002zm-257.012-41.465c-.601-1.311-.601-2.789-.601-4.205-.001-.756-2.898-.25-2.898.777.001 1.414.001 2.895.602 4.205.414.907 3.239-.029 2.897-.777zm8.766.473c.643-.021 1.479-.234 1.928-.734.803-.898.722-2.217.724-3.344 0-.664-2.897-.188-2.898.777 0 .826.115 1.996-.48 2.664-.456.508.388.651.726.637zm9.629 3.682c1.287-.678 2.327-1.73 3.604-2.402.443-.232 1.177-.807.717-1.375-.428-.527-1.419-.428-1.95-.148-1.287.678-2.327 1.73-3.605 2.402-.442.234-1.176.807-.716 1.375.427.527 1.419.427 1.95.148zm-43.809 4.216c.938.605 3.559-.709 2.268-1.543-1.762-1.139-3.701-1.857-5.682-2.52-1.082-.361-3.414 1.207-1.722 1.771 1.802.603 3.531 1.257 5.136 2.292zm10.5-6.992c.461.861 3.238-.139 2.897-.777-.714-1.334-1.978-1.994-3.283-2.648-.566-.283-1.533.047-2.039.318-.381.207-.884.658-.303.949 1.042.52 2.155 1.088 2.728 2.158zm-1.203 50.473c-.021.857-.384 1.965-1.195 2.398-.237.127-1.001.625-.345.793.624.158 1.477-.066 2.027-.361 1.438-.768 2.372-1.938 2.41-3.607.013-.5-2.877-.098-2.897.777zm18.532-1.129c-.001-1.412-2.922-.889-2.922.275.001 2.285-.061 4.652.613 6.859.371 1.215 3.264.42 2.898-.775-.627-2.058-.589-4.228-.589-6.359zm11.908.195c-.682-.65-3.396.43-2.703 1.092.729.693 1.677 1.105 2.403 1.801.682.65 3.396-.432 2.703-1.092-.728-.695-1.675-1.107-2.403-1.801zm13.326-3.353c-1.697-.578-3.318-1.221-5.136-1.26-.682-.016-1.538.199-1.898.844-.335.602.284 1.045.84 1.059 1.588.035 2.995.641 4.479 1.143.662.227 1.574-.055 2.049-.549.463-.485.271-1.032-.334-1.237zm158.434-304.242c-.545-.984-.854-2.457-.284-3.492 1.215-2.207 4.419-2.465 6.64-2.352.358.02.498.184.464.379a.4.4 0 0 1 .111.131c1.172 2.178.947 4.668-1.356 5.938-1.662.913-4.478 1.374-5.575-.604zm2.833-.899c.227.432.604.789 1.075.926a1.87 1.87 0 0 0 .224-.221c1.071-1.287.621-3.025-.101-4.363l-.001-.006c-.896-.01-1.507.162-1.674 1.301-.114.783.113 1.668.477 2.363zm16.914-16.652c-.164-.713-.158-1.424-.033-2.143a3.19 3.19 0 0 1 .369-1.076l.002-.002c.621.039 1.325-.176 1.775-.568.462-.404.322-.883-.27-1.006-1.581-.332-3.438.223-4.285 1.668-.659 1.127-.743 2.652-.457 3.904.228.99 3.132.246 2.899-.777z" fill="#a8a4ff" />
                </svg>
                <h1 className={`font-jakarata text-xl text-light-main`}>500 Internal Server Error</h1>
                <div className={`font-jakarta  text-lg text-light-main`}
                    onClick={() => navigate('/dashboard')}>
                    Sorry for the inconvenience
                </div>
            </div>
        )
    }
    if (unauthorizedUser) {
        return (
            <div className={`w-[100vw] flex items-center justify-center relative h-[100vh] ${theme.color === 'dark' ? 'bg-dark-darkBG' : 'bg-light-darkBG'}`}>
                <div className='flex items-center justify-center flex-col'>
                    <h1 className={`font-jakarata  text-xl ${theme.color === 'dark' ? 'text-light-main' : 'text-dark-main'}`}>Unauthorized access!</h1>
                    <div className={`font-jakarta  text-lg ${theme.color === 'dark' ? 'text-light-main' : 'text-dark-main'} `}>Please <span className='text-mainPurple cursor-pointer decoration-[1px] underline'
                        onClick={() => navigate('/login')}
                    >login</span> first</div>
                </div>
            </div>
        )
    }
    else if (boardsData) {
        return <div className={`overflow-y-hidden overflow-x-hidden w-[100vw] relative h-[100vh] flex flex-col ${theme.color === 'dark' ? 'bg-dark-darkBG' : 'bg-light-darkBG'}`}>
            <BoardsContext.Provider value={boardsData}>
                <ModalsContext.Provider value={{
                    boardsData: { val: boardsData,method: setBoardsData },
                    addTask: { val: addTaskModal, method: setAddTaskModal },
                    editTask: { val: editTaskModal, method: setEditTaskModal },
                    editBoard: { val: editBoardModal, method: setEditBoardModal },
                    createBoard: { val: createBoardModal, method: setCreateBoardModal },
                    viewTask: { val: viewTaskModal, method: setViewTaskModal },
                    deleteBoard: { val: deleteBoardModal, method: setDeleteBoardModal },
                }}>
                    <SetBoardDataContext.Provider value={setExistingBoardData}>
                        <Modal open={addTaskModal} onClose={() => setAddTaskModal(false)} ><div className='absolute left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%]'>
                            <CreateTask boardIndex={activeBoard} setModalOpen={setAddTaskModal} data={boardsData.boards[activeBoard]} />
                        </div></Modal>
                        {editTaskModal && <Modal open={editTaskModal} onClose={() => setEditTaskModal(false)} >
                            <div className='absolute left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%]'>
                                <EditTask fullData={boardsData.boards[activeBoard]} data={existingBoardData} setEditTaskModal={setEditTaskModal} /></div></Modal>}
                        {viewTaskModal && <Modal open={viewTaskModal} onClose={() => setViewTaskModal(false)} >
                            <div className='absolute left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%]'>
                                <ViewTask data={existingBoardData} /></div></Modal>}
                        {createBoardModal && <div className='absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]'>
                            <Modal open={createBoardModal} onClose={() => setCreateBoardModal(false)}>
                                <div className='absolute left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%]'>
                                    <CreateBoard addNewBoardModalHandler={setCreateBoardModal} />
                                </div>
                            </Modal>
                        </div>}
                        {editBoardModal && <div className='absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]'>
                            <Modal open={editBoardModal} onClose={() => setEditBoardModal(false)}>
                                <div className='absolute left-[50%] top-[50%] translate-y-[-50%] translate-x-[-50%]'>
                                    <EditBoard setShowEditBoard={setEditBoardModal} idx={activeBoard} data={boardsData.boards[activeBoard]} />
                                </div>
                            </Modal>
                        </div>}
                        {deleteBoardModal && <div className='absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]'>
                            <Modal open={deleteBoardModal}
                                onClose={() => setDeleteBoardModal(false)}
                            >
                                <div className='absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]'>
                                    <DeleteBoard setShowEditBoardModal={setEditBoardModal} index={activeBoard} setShowDeleteModal={setDeleteBoardModal} />
                                </div>
                            </Modal>
                        </div>}


                        <div className={` header absolute left:0 top:0 md:h-[81px] xl:h-[81px] vs:h-[64px] lg:h-[81px] sm:h-[64px] w-[100%] bg-light-main flex items-center border-b-[1px]  ${theme.color === 'dark' ? 'bg-dark-grey border-dark-lines' : 'bg-light-main border-light-lines'}`}>

                            <div className='md:w-[261px] lg:w-[261px] xl:w-[261px] h-[100%] flex items-center'><Logo /></div>
                            <div className='w-[100%] h-[100%] flex items-center'>
                                <div className={`h-[100%] flex items-center ${sidebarHidden ? 'absolute md:left-[250px] xl:left-[250px] lg:left-[250px]' : 'absolute left-[328px]'}`}>
                                    {boardsData.boards.length ? <BoardName activeBoard={activeBoard} setActiveBoard={setActiveBoard} boardsNames={boardsData.boards} forMobile={window.innerWidth <= 375}>{boardsData.boards[activeBoard].name}</BoardName> : null}
                                </div>
                                <div className=' absolute right-[24px]'>
                                    <AddNewTask />
                                </div>
                            </div>
                            <div className='absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]'>
                                <EmptyBoard />
                            </div>

                        </div>
                        <div id='container' className={` w-[100%] h-[100%] vs:mt-[88px] sm:mt-[88px] md:mt-[105px] flex ml vs:ml-[16px] sm:ml-[16px] ${sidebarHidden ? 'md:ml-[24px]' : 'md:ml-[324px]'}`}>

                            <ScrollContainer horizontal={true} vertical={true}>
                                {boardsData.boards.length ? <Columns boardIndex={activeBoard} board={boardsData.boards[activeBoard]} /> : null}
                            </ScrollContainer>

                        </div>

                        {sidebarHidden && <div className='absolute bottom-[10%]  hover:cursor-pointer' onClick={showSidebarHandler}>
                            <ShowSidebar />

                        </div>}
                        {!sidebarHidden &&
                            <div className={`h-[100vh] absolute w-[261px] left-0 `}>
                                <SideBarDesktop boardsNames={boardsData.boards} setSidebarHidden={setSidebarHidden} activeBoard={activeBoard} setActiveBoard={setActiveBoard} />
                            </div>
                        }
                    </SetBoardDataContext.Provider>
                </ModalsContext.Provider>
            </BoardsContext.Provider>
        </div >


    }
    else {
        return <div className={`w-[100vw] relative h-[100vh] ${theme.color === 'dark' ? 'bg-dark-darkBG' : 'bg-light-darkBG'}`}>
        </div>
    }
}

export default Dashboard